import{j as r,a as e,i as O,g as W,b as D,c as G,d as M,G as $,e as E,r as I,s as F,w as P,n as f,f as A,q as L,z as k,h as U,k as H,l as J,m as K,o as l,u as b,p as _,t as V,L as y,B as Y,R as Z,v as p,x as Q,y as X}from"./vendor.ec399aa6.js";const ee=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}};ee();function te(){return r("div",{children:[e("br",{}),r("h1",{className:"text-3xl text-center ",children:[e("span",{className:"text-blue-400",children:" PetsID "})," "]})]})}const ae={apiKey:"AIzaSyBv7-IPwowp6otWTZzebRceMOukvkzBeNk",authDomain:"sadea-ce3bb.firebaseapp.com",projectId:"sadea-ce3bb",storageBucket:"sadea-ce3bb.appspot.com",messagingSenderId:"1037770532248",appId:"1:1037770532248:web:032118e4d9231e3e45f7ed",measurementId:"G-LB8YP5WT16"},w=O(ae);W(w);const C=D(w),h=G(w),v=M(w),se=new $;E(I(C,"2CzaAerrlpxsBfWTeHsj.jpg")).then(t=>{console.log(t)}).catch(t=>{});const B=async()=>{try{const s=(await F(h,se)).user,a=P(f(v,"users"),A("uid","==",s.uid));(await L(a)).docs.length===0&&await k(f(v,"users"),{uid:s.uid,name:s.displayName,authProvider:"google",email:s.email})}catch(t){console.error(t),alert(t.message)}},re=async(t,s)=>{try{await U(h,t,s)}catch(a){console.error(a),alert(a.message)}},oe=async(t,s,a)=>{try{const o=(await K(h,s,a)).user;await k(f(v,"users"),{uid:o.uid,name:t,authProvider:"local",email:s})}catch(i){console.error(i),alert(i.message)}},ne=async t=>{try{await H(h,t),alert("Password reset link sent!")}catch(s){console.error(s),alert(s.message)}},ie=()=>{J(h)};const le="/src/images/fondo.jpeg",ce={backgroundImage:`url(${le})`,width:"100%",height:"100%"};function z(t){const[s,a]=l.exports.useState(""),[i,o]=l.exports.useState(""),[n,c,x]=b(h),[u,m]=l.exports.useState([]),N=_(),{id:g}=V(),[T,q]=l.exports.useState(""),j=async()=>{try{const d=P(f(v,"tags"),A("__name__","==",g.toString())),R=await L(d),S=R.docs[0].data();console.log(S),console.log("id ok",R),S.pin?m(S):m([])}catch(d){console.error(d),t.setTag(["No valido"]),alert("Tag no valido error al consultar el Tag en la Base de datos")}};return l.exports.useEffect(()=>{c||(n&&N("/dashboard"),j(),u?t.setTag(g):t.setTag("no Valido"),console.log("props en login:"),console.log(t),u&&E(I(C,g+".jpg")).then(d=>{q(d),console.log("porfin",d)}).catch(d=>{}),"geolocation"in navigator?(console.log("Available"),navigator.geolocation.getCurrentPosition(function(d){console.log("Latitude is :",d.coords.latitude),console.log("Longitude is :",d.coords.longitude),console.log(d)})):console.log("Not Available"))},[n,c]),r("div",{className:"login",children:[e("h1",{className:"text-gray-400 text-center text-1xl",children:"Codigo:"}),r("h1",{className:"text-red-500 text-center text-1xl ",children:[t.tag," "]}),e("div",{className:"header",style:ce}),r("div",{className:"login__container",children:[u.propietario?r("div",{children:[r("div",{className:"box",children:[e("div",{className:"left",children:e("div",{className:"content",children:e("img",{src:T,className:"avatar"})})}),e("div",{className:"right",children:e("div",{className:"content",children:r("span",{className:"text-4xl  text-blue-500",children:["Hola soy ",u.nombremascota," "]})})})]}),e("span",{className:"text-1xl text-center "})," ",e("h1",{children:r("div",{className:"titulomascota",children:[e("div",{className:"titulomascotaizquierda"}),e("div",{className:"titulomascotaderecha",children:" "})]})}),e("br",{}),r("div",{className:"text-left text-gray-500",children:[r("h1",{children:[" Mi propietario es : ",u.propietario]})," Su n\xFAmero es:",r("span",{className:"text-red-500 text-center text-1xl ",children:[" ",u.celular," "]})]}),e("h1",{}),e("br",{}),r("h1",{children:[" ","Mientras mi familia me recoge es importante que conozcas mis datos:"]}),e("br",{}),r("span",{className:"text-3xl text-center  text-blue-500",children:[" ","Mi perfil:"," "]}),e("br",{}),r("div",{className:"text-left text-gray-500 bg-slate-300",children:[r("span",{className:"text-left  text-blue-500",children:["Fecha de nacimiento:"," "]})," ",u.fechanacimiento,e("br",{}),r("span",{className:"text-left  text-blue-500",children:["Raza:"," "]})," ",u.raza,e("br",{}),r("span",{className:"text-left  text-blue-500",children:["Alergias:"," "]})," ",u.raza]}),e("br",{}),r("h1",{children:[r("span",{className:"text-1xl text-center  text-gray-400",children:[" ","Sieres propietario de un tag de PetsID, puedes iniciar Sesion a continuacion para registrar o actualizar datos de tu mascota"]})," "]})]}):t.tag=="No valido"?e("div",{children:"Tag no valido, no podras registrar este tag, si adquiriste este tag debes comunicarte a la linea 3167482109 para validaciones ya que no se encontr\xF3 en la base de datos."}):"Este tag aun no ha sido registrado, crea una cuenta o inicia sesion para registralo a tu mascota.",r("div",{className:"login",children:[e("input",{type:"text",className:"login__textBox",value:s,onChange:d=>a(d.target.value),placeholder:"E-mail Address"}),e("input",{type:"password",className:"login__textBox",value:i,onChange:d=>o(d.target.value),placeholder:"Password"}),e("button",{className:"login__btn",onClick:()=>re(s,i),children:"Login"}),e("button",{className:"login__btn login__google",onClick:B,children:"Login with Google"}),e("div",{children:e(y,{to:"/reset",children:"Recordar Password"})}),r("div",{children:["No tienes una cuenta? ",e(y,{to:"/register",children:"Registrate"})," ahora"]})]})]})]})}function de(){const[t,s]=l.exports.useState(""),[a,i]=l.exports.useState(""),[o,n]=l.exports.useState(""),[c,x,u]=b(h),m=_().history,N=()=>{o||alert("Please enter name"),oe(o,t,a)};return l.exports.useEffect(()=>{x||c&&m.replace("/dashboard")},[c,x]),e("div",{className:"register",children:r("div",{className:"register__container",children:[e("input",{type:"text",className:"register__textBox",value:o,onChange:g=>n(g.target.value),placeholder:"Full Name"}),e("input",{type:"text",className:"register__textBox",value:t,onChange:g=>s(g.target.value),placeholder:"E-mail Address"}),e("input",{type:"password",className:"register__textBox",value:a,onChange:g=>i(g.target.value),placeholder:"Password"}),e("button",{className:"register__btn",onClick:N,children:"Register"}),e("button",{className:"register__btn register__google",onClick:B,children:"Register with Google"}),r("div",{children:["Already have an account? ",e(y,{to:"/",children:"Login"})," now."]})]})})}function ue(){const[t,s]=l.exports.useState(""),[a,i,o]=b(h),n=_();return l.exports.useEffect(()=>{i||a&&n("/dashboard")},[a,i]),e("div",{className:"reset",children:r("div",{className:"reset__container",children:[e("input",{type:"text",className:"reset__textBox",value:t,onChange:c=>s(c.target.value),placeholder:"E-mail Address"}),e("button",{className:"reset__btn",onClick:()=>ne(t),children:"Send password reset email"}),r("div",{children:["Don't have an account? ",e(y,{to:"/register",children:"Register"})," now."]})]})})}function ge(t,s){const[a,i,o]=b(h),[n,c]=l.exports.useState(""),x=_(),u=async()=>{try{const m=P(f(v,"users"),A("uid","==",a==null?void 0:a.uid)),g=(await L(m)).docs[0].data();c(g.name)}catch(m){console.error(m),alert("An error occured while fetching user data")}};return l.exports.useEffect(()=>{if(!i){if(!a)return x("/");u()}},[a,i]),console.log("props en dashboars:"),console.log(t),e("div",{className:"dashboard",children:r("div",{className:"dashboard__container",children:[n,"Bienvenido vamos a activar el TAG Numero:",e("div",{children:t==null?void 0:t.props}),e("div",{children:s==null?void 0:s.tag}),e("div",{children:a==null?void 0:a.email}),e("p",{children:"Cedula: "}),e("input",{className:"normal__txt"}),e("p",{children:"Pin:"}),e("input",{className:"normal__txt"}),e("p",{children:"Nombre de la mascota:"}),e("input",{className:"normal__txt"}),e("p",{children:"Propietario:"}),e("input",{className:"normal__txt"}),e("p",{children:e("button",{className:"normal__btn",children:"Validar"})}),e("button",{className:"dashboard__btn",onClick:ie,children:"Salir de la cuenta"})]})})}function he(){l.exports.useState(null);const[t,s]=l.exports.useState([]);l.exports.useState({});const[a,i]=l.exports.useState(null);return l.exports.useEffect(()=>{(()=>{var c;const n=(c=JSON.parse(localStorage.getItem("pacientes")))!=null?c:[];s(n),console.log("pacientes obtenidos en LS",n)})()},[]),l.exports.useEffect(()=>{localStorage.setItem("pacientes",JSON.stringify(t))},[t]),console.log("tag desde app",a),r("div",{className:"app align-middle backgro  bg-slate-800 text-slate-400",children:[e(te,{}),e(Y,{children:r(Z,{children:[e(p,{exact:!0,path:"/:id",element:e(z,{setTag:i,tag:a})}),e(p,{exact:!0,path:"/register",element:e(de,{})}),e(p,{exact:!0,path:"/reset",element:e(ue,{})}),e(p,{exact:!0,path:"/dashboard/",element:e(ge,{props:a})}),e(p,{exact:!0,path:"/",element:e(z,{setTag:i,tag:a,props:a})}),e(p,{path:"*",element:e("div",{children:" La ruta no existe 404"})})]})})]})}Q.render(e(X.StrictMode,{children:e(he,{})}),document.getElementById("root"));
